library(FactoMineR)
library(dplyr)
features <-read.csv("../../Outputs/features_combined.csv", row.names = 1)
catfeat <- read.csv("../../Outputs/features_cat.csv", row.names = 1)
MCAres <- MAC(catfeat)
MCAres <- MCA(catfeat)
contfeat <- read.csv("../../Outputs/features_cont_std.csv", row.names = 1)
PCAres <- PCA(contfeat)
summary(MCAres)
library(FactoMineR)
library(dplyr)
catfeat <- read.csv("../../Outputs/features_cat.csv", row.names = 1)
catfeat <- read.csv("../../Outputs/features_cat_cat.csv", row.names = 1)
rm(catfeat)
catfeat <- read.csv("../../Outputs/features_cat_cat.csv", row.names = 1)
catfeat[c(1,2),]
catfeat <- catfeat[,c(6,7,8,9,10,16,17,18,19,20)]
MCAres <- MCA(catfeat)
library(FactoMineR)
catfeat <- read.csv("../../Outputs/features_cat_cat.csv", row.names = 1)
catfeat <- read.csv("../../Outputs/features_cat_cat.csv", row.names = 1)
catfeat <- read.csv("../../Outputs/features_cat_cat.csv", row.names = 1)
MCAres <- MCA(catfeat)
library(FactoMineR)
features <-read.csv("../../Outputs/features_combined.csv", row.names = 1)
FAMDres <- FAMD(features)
FAMDres$var
FAMDres$var$contrib
summary(FAMDres)
FAMDres$eig
FAMDres$quanti.var
FAMDres$quali.var
features <-read.csv("../../Outputs/features_combined_cat.csv", row.names = 1)
FAMDres <- FAMD(features, ncp = 10)
install.packages("factoextra")
install.packages("cluster")
install.packages("fpc")
install.packages("NbClust")
library(factoextra)
library(cluster)
library(fpc)
library(NbClust)
features <-read.csv("../../Outputs/features_z_pca.csv", row.names = 1)
features <-read.csv("../Outputs/features_z_pca.csv", row.names = 1)
getwd()
features <-read.csv("../../../Outputs/Features/cluster/inputs/features_z_pca.csv", row.names = 1)
features <-read.csv("../../Outputs/Features/cluster/inputs/features_z_pca.csv", row.names = 1)
features <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca.csv", row.names = 1)
features <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca.csv", row.names = 1,
header = FALSE)
d <- dist(features, method = "euclidean") # distance matrix
fit <- hclust(d, method="ward")
??hclust
?hclust
fit <- hclust(d, method="ward.D")
plot(fit) # display dendogram
groups <- cutree(fit, k=5) # cut tree into 5 clusters
rect.hclust(fit, k=5, border="red")
library(cluster)
clusplot(features, fit$cluster, color=TRUE, shade=TRUE,
labels=2, lines=0)
clusplot(d, fit$cluster, color=TRUE, shade=TRUE, labels=2, lines=0)
cluster.stats(d, fit1$cluster, fit2$cluster)
cluster.stats(d, fit$cluster)
?eclust
??fpc
dbcluster <- dbscan(features,3, 5)
dbcluster <- dbscan(features,3, 5, showplot = 1)
plot(dbcluster, features)
plot(dbcluster, features)
fviz_cluster(dbcluster, geom = "point", frame.type = "norm")
?fviz_cluster
fviz_cluster(dbcluster, geom = "point")
fviz_cluster(dbcluster, features,geom = "point")
?hclust
d <- dist(features, method = "euclidean") # distance matrix
hcluster <- hclust(d, method="ward.D")
plot(fit) # display dendogram
fviz_cluster(hcluster, features,geom = "point")
sil <- silhouette(hcluster$cluster, d)
hcluster$cluster
hcluster <- eclust(d, "hclust", k = 5
method = "ward.D", graph = FALSE)
hcluster <- eclust(d, "hclust", k = 5, method = "ward.D", graph = FALSE)
fviz_dend(hcluster, rect = TRUE, show_labels = FALSE)
sil <- silhouette(hcluster$cluster, d)
fviz_silhouette(hcluster)
hc_stats <- cluster.stats(d, hcluster)
hc_stats <- cluster.stats(d, hcluster$cluster)
hc_stats
?fanny
sil <- silhouette(dbcluster$cluster, d)
fviz_cluster(dbcluster, features,geom = "point")
fviz_silhouette(hcluster)
fviz_silhouette(dbluster)
fviz_silhouette(dbcluster)
??fviz_
sildb <- silhouette(dbcluster$cluster, d)
fviz_silhouette(sildb)
silh <- silhouette(hcluster$cluster, d)
fviz_silhouette(silh)
silh
dbcluster <- dbscan(features,4, 3, showplot = 1)
plot(dbcluster, features)
fviz_cluster(dbcluster, features,geom = "point")
db_stats <- cluster.stats(d,  dbcluster$cluster)
??dbscan
dbcluster_r <- dbscan(features,4, 3, data = 'raw')
?dbscan
dbcluster_r <- dbscan(features, 4, 3, method = "raw")
dbcluster_d <- dbscan(d, 4, 3, method = 'dist')
fviz_cluster(dbcluster_r, features,geom = "point")
fviz_cluster(dbcluster_d, features,geom = "point")
sildb <- silhouette(dbcluster_r$cluster, d)
fviz_silhouette(sildb)
db_stats <- cluster.stats(d,  dbcluster$cluster)
?cluster.stats
db_stats <- cluster.stats(d,  dbcluster)
dbcluster <- dbscan(features, 4, 3, method = "raw")
db_stats <- cluster.stats(d,  dbcluster$cluster)
db_stats #$within.cluster.ss
dbcluster <- dbscan(features, 5, 10, method = "raw")
fviz_cluster(dbcluster, features,geom = "point")
sildb <- silhouette(dbcluster$cluster, d)
fviz_silhouette(sildb)
dbcluster <- dbscan(features, 2, 3, method = "raw")
fviz_cluster(dbcluster, features,geom = "point")
sildb <- silhouette(dbcluster$cluster, d)
fviz_silhouette(sildb)
db_stats <- cluster.stats(d,  dbcluster$cluster)
library(factoextra)
library(cluster)
library(fpc)
library(NbClust)
features <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca.csv", row.names = 1,
header = FALSE)
features <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca5.csv", row.names = 1,
header = FALSE)
d <- dist(features, method = "euclidean") # distance matrix
dbcluster <- dbscan(features, 2, 3, method = "raw")
fviz_cluster(dbcluster, features,geom = "point")
sildb <- silhouette(dbcluster$cluster, d)
fviz_silhouette(sildb)
features <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca10.csv", row.names = 1,
header = FALSE)
d <- dist(features, method = "euclidean") # distance matrix
dbcluster <- dbscan(features, 2, 3, method = "raw")
fviz_cluster(dbcluster, features,geom = "point")
library(factoextra)
library(cluster)
library(fpc)
library(NbClust)
?fpc
??fpc
??cluster
library(FactoMineR)
contfeat <- read.csv("../../Outputs/Features/cluster_inputs/features_cont_std.csv", row.names = 1)
contfeat_z <- read.csv("../../Outputs/Features/cluster_inputs/features_cont_std.csv", row.names = 1)
contfeat <- read.csv("../../Outputs/Features/cluster_inputs/features_cont.csv", row.names = 1)
PCAres1 <- PCA(contfeat, scale.unit = F)
PCAres1 <- PCA(contfeat_z, scale.unit = F)
warnings()
PCAres2 <- PCA(contfeat)
summary(PCAres1)
summary(PCAres2)
library(factoextra)
fviz_pca(PCAres1)
fviz_ind(PCAres1)
fviz_pca_ind(PCAres1)
fviz_pca_var(PCAres1)
fviz_pca(PCAres1,geom= 'point')
fviz_pca(PCAres1,geom= 'point', label = None)
fviz_pca(PCAres1,geom= 'point', label = 'None')
library(factoextra)
library(cluster)
library(fpc)
library(NbClust)
features10 <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca10.csv", row.names = 1,
header = FALSE)
features5 <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca10.csv", row.names = 1,
header = FALSE)
d <- dist(features, method = "euclidean") # distance matrix
hcluster <- eclust(d, "hclust", k = 5, method = "ward.D", graph = FALSE)
d <- dist(features5, method = "euclidean") # distance matrix
hcluster <- eclust(d, "hclust", k = 5, method = "ward.D", graph = FALSE)
fviz_dend(hcluster, rect = TRUE, show_labels = FALSE)
cophenetic(hcluster)
?cophenetic
hcop <- cophenetic(hcluster)
cor(d, hcop)
dbcluster <- dbscan(features5, 2, 3, method = "raw")
fviz_cluster(dbcluster, features,geom = "point")
??dbscan
eps = c(.5,1,2,4,5,10)
minpts = c(1,2,5,7,10)
for (i in eps){
for (j in minpts){
dbcluster <- dbscan(features5, i, j, method = "raw")
paste0(db_stats_,i,"_",j) <- cluster.stats(d,  dbcluster$cluster)
}
}
library(factoextra)
library(cluster)
library(fpc)
library(NbClust)
getwd()
?cluster.stats
eps = c(1,3,5)
minpts = c(1,3,5)
dbsummary <- data.frame()
features5 <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca10.csv", row.names = 1,
header = FALSE)
d <- dist(features5, method = "euclidean") # distance matrix
for (i in eps){
for (j in minpts){
dbcluster <- dbscan(features5, i, j, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
}
}
dbcluster <- dbscan(features5, 1, 1, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
library(factoextra)
library(cluster)
library(fpc)
library(NbClust)
features5 <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca10.csv", row.names = 1,
header = FALSE)
d <- dist(features5, method = "euclidean") # distance matrix
dbsummary <- data.frame()
dbcluster <- dbscan(features5, 1, 1, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
dbcluster <- dbscan(features5, 3, 3, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
dbcluster <- dbscan(features5, 5, 5, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
dbcluster <- dbscan(features5, 5, 3, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
dbcluster <- dbscan(features5, 3, 5, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
View(dbsummary)
View(dbsummary)
eps = c(2,3,4,5,8,10)
minpts = c(2,3,4,5,8,10)
dbsummary <- data.frame()
for (i in eps){
for (j in minpts){
dbcluster <- dbscan(features5, i, j, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
}
}
warnings()
colnames(dbsummary) <- c("eps","minpts",
"n_clusters","max_cl_size","min_cl_size","SSE","avg_within","avg_btn",
"Sil","Dunn2")
View(dbsummary)
View(dbsummary)
colnames(dbsummary) <- c(
"n_clusters","max_cl_size","min_cl_size","SSE","avg_within","avg_btn",
"Sil","Dunn2")
write.csv(dbsummary,"../../Outputs/Clustering/db_clustering_summary.csv")
features10 <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca10.csv", row.names = 1,
header = FALSE)
d <- dist(features5, method = "euclidean") # distance matrix
eps = c(2,3,4,5,8,10)
minpts = c(2,3,4,5,8,10)
dbsummary <- data.frame()
for (i in eps){
for (j in minpts){
dbcluster <- dbscan(features5, i, j, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(i,j, stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
}
}
View(dbsummary)
View(dbsummary)
colnames(dbsummary) <- c("eps","minpts",
"n_clusters","max_cl_size","min_cl_size","SSE","avg_within","avg_btn",
"Sil","Dunn2")
write.csv(dbsummary,"../../Outputs/Clustering/db_clustering_summary_pca10.csv", row.names= F)
dbcluster <- dbscan(features5, 1, 3, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(i,j,
stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
View(dbsummary)
View(dbsummary)
dbsummary <- data.frame()
temp <- c(1,3,
stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
View(dbsummary)
View(dbsummary)
colnames(dbsummary) <- c("eps","minpts",
"n_clusters","max_cl_size","min_cl_size","SSE","avg_within","avg_btn",
"Sil","Dunn2")
dbcluster <- dbscan(features5, 1, 2, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(1,2,
stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
View(dbsummary)
View(dbsummary)
features <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca5.csv", row.names = 1,
header = FALSE)
d <- dist(features, method = "euclidean") # distance matrix
features <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca10.csv", row.names = 1,
header = FALSE)
d <- dist(features, method = "euclidean") # distance matrix
eps = c(2,3,4,5,8,10)
minpts = c(2,3,4,5,8,10)
dbsummary <- data.frame()
for (i in eps){
for (j in minpts){
dbcluster <- dbscan(features, i, j, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(i,j, stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
}
}
colnames(dbsummary) <- c("eps","minpts",
"n_clusters","max_cl_size","min_cl_size","SSE","avg_within","avg_btn",
"Sil","Dunn2")
write.csv(dbsummary,"../../Outputs/Clustering/db_clustering_summary_pca10.csv", row.names= F)
features <-read.csv("../../Outputs/Features/cluster_inputs/features_z_pca5.csv", row.names = 1,
header = FALSE)
d <- dist(features, method = "euclidean") # distance matrix
eps = c(2,3,4,5,8,10)
minpts = c(2,3,4,5,8,10)
dbsummary <- data.frame()
for (i in eps){
for (j in minpts){
dbcluster <- dbscan(features, i, j, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(i,j, stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
}
}
colnames(dbsummary) <- c("eps","minpts",
"n_clusters","max_cl_size","min_cl_size","SSE","avg_within","avg_btn",
"Sil","Dunn2")
write.csv(dbsummary,"../../Outputs/Clustering/db_clustering_summary_pca5.csv", row.names= F)
dbcluster <- dbscan(features, 1, 2, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(1,2,
stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
View(dbsummary)
View(dbsummary)
dbcluster <- dbscan(features, 1, 3, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(1,3,
stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
dbcluster <- dbscan(features, 3, 1, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(3,1,
stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
dbcluster <- dbscan(features, 2, 1, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(2,1,
stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
View(dbsummary)
dbcluster <- dbscan(features, 1, 1, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
temp <- c(1,1,
stats$cluster.number, max(stats$cluster.size), stats$min.cluster.size,
stats$within.cluster.ss,stats$average.within, stats$average.between,
stats$avg.silwidth, stats$dunn2)
dbsummary <- rbind(dbsummary, temp)
ggplot(dbsummary, aes(x=dbsummary$minpts, y=c(), color=highest_ev_chosen)) +
geom_line(aes(y = dbsummary$SSE, col = "SSE")) +
#geom_line(aes(y = y2, col = "y2"))
facet_grid(.~eps)
View(dbsummary)
View(dbsummary)
View(dbsummary)
View(dbsummary)
ggplot(dbsummary, aes(x=dbsummary$minpts, y=c(), color=highest_ev_chosen)) +
geom_line(aes(y = dbsummary$SSE, col = "SSE")) +
#geom_line(aes(y = y2, col = "y2"))
facet_grid(.~dbsummary$eps)
ggplot(dbsummary, aes(x=dbsummary$eps, y=c(), color=highest_ev_chosen)) +
geom_line(aes(y = dbsummary$SSE, col = "SSE")) +
#geom_line(aes(y = y2, col = "y2"))
facet_grid(.~dbsummary$minpts)
View(dbsummary)
View(dbsummary)
write.csv(dbsummary,"../../Outputs/Clustering/db_clustering_summary_pca5.csv", row.names= F)
dbcluster <- dbscan(features, 2, 4, method = "raw")
fviz_cluster(dbcluster, features,geom = "point")
stats <- cluster.stats(d,  dbcluster$cluster)
stats
dbcluster <- dbscan(features, 2, 10, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
fviz_cluster(dbcluster, features,geom = "point")
stats
fviz_cluster(dbcluster, features,geom = "point")
?fviz_cluster
dbcluster <- dbscan(features, 2, 4, method = "raw")
dbcluster <- dbscan(features, 2, 4, method = "raw")
stats <- cluster.stats(d,  dbcluster$cluster)
fviz_cluster(dbcluster, features,geom = "point")
stats
citation(factoextra)
citation("factoextra")
?toBibtex
cite1 <- citation("factoextra")
cite2 <- citation("cluster")
cite3 <- citation("fpc")
cite4 <- citation("NbClust")
toBibtex(cite1, "factoextra_citation")
citation("cluster")
citation("fpc")
citation("NbClust")
