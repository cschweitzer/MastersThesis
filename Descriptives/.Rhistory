descriptives <- function(path, files, output){
stats <- data.frame()
std <- c()
for (i in 1:length(files)){
file <- paste0(path, files[i])
data <- readRDS(file)
stats <- rbind(stats, summary(data[,2]))
std <- c(std, sd(data[,2]))
}
stats <- cbind(stats, std)
row.names(stats) <- files
names(stats) <- c("Min", "Q1", "Med", "Mean", "Q3", "Max", "sd")
write.csv(stats,output)
return(stats)
}
descriptives("../../Outputs/Features/",c("multi_app_sessions",
"single_app_sessions",
"notification_response_time",
"repeat_app_sessions",
"repeat_app_whatsapp",
"between_sessions_duration"),
"../../Outputs/Descriptives/descriptive_stats_table.csv")
descriptives("../../Outputs/Features/cont",c("multi_app_sessions",
"single_app_sessions",
"notification_response_time",
"repeat_app_sessions",
"repeat_app_whatsapp",
"between_sessions_duration"),
"../../Outputs/Descriptives/descriptive_stats_table.csv")
descriptives("../../Outputs/Features/cont/",c("multi_app_sessions",
"single_app_sessions",
"notification_response_time",
"repeat_app_sessions",
"repeat_app_whatsapp",
"between_sessions_duration"),
"../../Outputs/Descriptives/descriptive_stats_table.csv")
read.csv("../../Outputs/Features/cont/multi_app_sessions")
?read.csv
test <- read.csv("../../Outputs/Features/cont/multi_app_sessions.csv")
View(test)
View(test)
test <- read.csv("../../Outputs/Features/cont/multi_app_sessions.csv", stringsAsFactors = F)
file <- "not.csv"
".csv" in file
".csv" %in% file
"*.csv" %in% file
"?.csv" %in% file
?%in%
?in
??in
descriptives <- function(path, files, output){
stats <- data.frame()
std <- c()
for (i in 1:length(files)){
file <- paste0(path, files[i])
data <- read.csv(file, stringsAsFactors = F)
stats <- rbind(stats, summary(data[,2]))
std <- c(std, sd(data[,2]))
}
stats <- cbind(stats, std)
row.names(stats) <- files
names(stats) <- c("Min", "Q1", "Med", "Mean", "Q3", "Max", "sd")
write.csv(stats,output)
return(stats)
}
descriptives("../../Outputs/Features/cont/",c("multi_app_sessions.csv",
"single_app_sessions.csv",
"notification_response_time.csv",
"repeat_app_sessions.csv",
"repeat_app_whatsapp.csv",
"between_sessions_duration.csv"),
"../../Outputs/Descriptives/descriptive_stats_table.csv")
descriptives("../../Outputs/Features/cont/",c("multi_app_sessions.csv",
"single_app_sessions.csv",
"notification_responsetime.csv",
"repeat_app_sessions.csv",
"repeat_app_whatsapp.csv",
"between_sessions_duration.csv"),
"../../Outputs/Descriptives/descriptive_stats_table.csv")
library(dplyr)
library(tidyr)
input="../../Outputs/PreProcessing/sessions_trains"
sessions_trains <- readRDS(input)
sessions_trains_filtered <- filter(sessions_trains, app_event_distinct_count >1)
app_distinct_count <- as.data.frame(xtabs(~app_event_distinct_count, sessions_trains))
app_totat_count <- as.data.frame(xtabs(~app_event_count, sessions_trains))
app_counts <- merge(app_distinct_count, app_totat_count, by.x = "app_event_distinct_count", by.y = "app_event_count" ) %>%
arrange(-Freq.x) %>%
rename(app_distinct_count = Freq.x, app_count = Freq.y) %>%
mutate(prop_distinct = app_distinct_count/ sum(app_distinct_count),
prop_apps = app_count/ sum(app_count))
write.csv(app_counts, "../../Outputs/Descriptives/appcounts_freq.csv", row.names = F)
totalusers <- n_distinct(sessions_trains$id)
trains_feat <- readRDS("../../Outputs/Features/trains_topoverall_freq_features")
trains_top_summary <-  gather(trains_feat, key = 'train', value = 'value', -id, na.rm = TRUE) %>%
group_by(train) %>%
summarise(pct_users = n()/totalusers,
mean_usage = mean(value),
median_usage = median(value)) %>%
ungroup() %>% arrange(-pct_users)
write.csv(trains_top_summary, "../../Outputs/Descriptives/trains_top_summary.csv", row.names = F)
library(dplyr)
library(tidyr)
input="../../Outputs/PreProcessing/sessions_trains"
sessions_trains <- readRDS(input)
sessions_trains_filtered <- filter(sessions_trains, app_event_distinct_count >1)
app_distinct_count <- as.data.frame(xtabs(~app_event_distinct_count, sessions_trains))
app_totat_count <- as.data.frame(xtabs(~app_event_count, sessions_trains))
app_counts <- merge(app_distinct_count, app_totat_count, by.x = "app_event_distinct_count", by.y = "app_event_count" ) %>%
arrange(-Freq.x) %>%
rename(app_distinct_count = Freq.x, app_count = Freq.y) %>%
mutate(prop_distinct = app_distinct_count/ sum(app_distinct_count),
prop_apps = app_count/ sum(app_count))
write.csv(app_counts, "../../Outputs/Descriptives/appcounts_freq.csv", row.names = F)
totalusers <- n_distinct(sessions_trains$id)
trains_feat <- readRDS("../../Outputs/Features/cont/trains_topoverall_freq_features")
trains_top_summary <-  gather(trains_feat, key = 'train', value = 'value', -id, na.rm = TRUE) %>%
group_by(train) %>%
summarise(pct_users = n()/totalusers,
mean_usage = mean(value),
median_usage = median(value)) %>%
ungroup() %>% arrange(-pct_users)
write.csv(trains_top_summary, "../../Outputs/Descriptives/trains_top_summary.csv", row.names = F)
